<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <link rel="icon" />
  <link rel="icon" href="../image/ml-fusion-lab-logo.png" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mouse Control Using Eye Tracking</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
  integrity="sha384-DyZvIiAlK5ou5JHox2F5E6g/xW6+U3A6M9fzy+nuU0T+CEql5G2RzQZn8AdBQ7kG" crossorigin="anonymous">
<link rel="stylesheet" href="../style/style.css" />
  <style>
 .project-container {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
      margin: 0 auto;
      padding-left: 50px;
      padding-right: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
body.dark-mode .project-container {
  background-color:#1a1a1a;
  color: white;
}
    @media (max-width: 600px) {
      .project-container {
        font-size: 0.9em;
        padding: 1em;
      }

      .project-container h1 {
        font-size: 1.8em;
      }
    }

    @media print {
      .project-container {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }

      .project-container p,
      .project-container h2,
      .project-container h3 {
        orphans: 3;
        widows: 3;
      }

      .project-container h2,
      .project-container h3,
      .project-container h4 {
        page-break-after: avoid;
      }
    }

    header {
      height: 100px;
    }

    .logo {
      margin: 30px 0 0 0;
    }

    footer {
      background-color: #333;
      color: white;
      text-align: center;
      padding: 20px 0;
      margin-top: auto;
    }

    .footer-container {
      max-width: 800px;
      margin: auto;
      padding: 0 20px;
    }

    .footer-links,
    .footer-socials,
    .footer-contact {
      margin: 10px 0;
    }

    .footer-links a,
    .footer-socials a {
      color: white;
      text-decoration: none;
      margin: 0 10px;
      transition: color 0.3s;
    }

    .footer-links a:hover,
    .footer-socials a:hover {
      color: #007bff;
    }

    .footer-socials a {
      font-size: 24px;
      margin: 0 15px;
    }

    .footer-contact a {
      color: white;
    }

    .newsletter .input-group .input {
      color: black;
    }

    #scrollTopBtn {
      display: none;
      position: fixed;
      bottom: 20px;
      right: 30px;
      z-index: 101;
      font-size: 18px;
      background-color: #00bfff;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 5px;
    }

    #scrollTopBtn:hover {
      background-color: #555;
    }

    p {
      margin: 1em 0;
    }

    a {
      color: #1a1a1a;
    }

    a:visited {
      color: white;
    }

    img {
      max-width: 100%;
    }
    
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #title{
      font-size: 3rem;
      margin: auto;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../style/scroll.css" />
</head>
<body>
  <div class="circle-container">
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
  </div>
  <header>
    <div class="logo">
      <a href="../index.html">
        <h1>
          <img src="../image/ml-fusion-lab-logo.png" alt="logo" width="100" height="100" />
        </h1>
      </a>
    </div>
    <nav>
      <div class="hamburger" id="hamburger">&#9776;</div>
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="../pages/courses.html">Courses</a></li>
        <li><a href="../pages/projects.html">Projects</a></li>
        <li><a href="../pages/about.html">About Us</a></li>
        <li><a href="../pages/contact.html">Contact</a></li>
        <li><a href="../pages/community_suport.html">Community Support</a></li>

        <li><a href="../pages/feedback.html">Feedback</a></li>
        <!-- <div class="theme-switch" id="theme-switch"></div> -->
        <div id="themeSwitch" class="theme-switch">
          <input type="checkbox" class="checkbox" id="checkbox">
          <label for="checkbox" class="checkbox-label">
            
            <img src="../Assets/sun.png" class="theme-btn">
            <img src="../Assets/moon.png" class="theme-btn">
            <!-- <i class="fas fa-moon"></i>
            <i class="fas fa-sun"></i> -->
            <span class="ball"></span>
          </label>
        </div>
      </ul>
    </nav>
  </header>
  <div class="project-container">

<section id="mouse-control-using-eye-tracking-with-python"
class="cell markdown">
<h2 id="title">Mouse Control Using Eye Tracking with Python</h2>
</section>
<div class="cell markdown">
<p>Eye-tracking-based mouse control is an innovative way to interact
with your computer, particularly helpful in accessibility scenarios. In
this tutorial, we’ll guide you step by step through setting up a system
to control the mouse cursor using eye movements and blinking, leveraging
Python libraries such as OpenCV, MediaPipe, and PyAutoGUI.</p>
</div>
<div class="cell markdown">
<p>We’ll break this down into several steps: detecting your face and
eyes, tracking eye movement, and mapping eye position to screen
coordinates for mouse control.</p>
</div>
<section id="prerequisites" class="cell markdown">
<h2>Prerequisites</h2>
</section>
<div class="cell markdown">
<p>Before starting, ensure you have the required libraries installed in
your Python environment. This project depends on the following:</p>
</div>
<section id="required-libraries" class="cell markdown">
<h3>Required Libraries</h3>
</section>
<div class="cell markdown">
<ul>
<li><strong>OpenCV</strong>: For capturing video from the webcam and
image processing.</li>
<li><strong>MediaPipe</strong>: For face and eye detection using the
face mesh model.</li>
<li><strong>PyAutoGUI</strong>: For controlling the mouse
programmatically.</li>
</ul>
</div>
<section id="installation-instructions" class="cell markdown">
<h3>Installation Instructions</h3>
</section>
<div class="cell markdown">
<p>Install the necessary libraries using <code>pip</code>. Open your
terminal or command prompt and run:</p>
</div>
<div class="cell code"
data-vscode="{&quot;languageId&quot;:&quot;plaintext&quot;}">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pip install opencv<span class="op">-</span>python mediapipe pyautogui</span></code></pre></div>
</div>
<div class="cell markdown">
<p>This will install all the packages needed for this project.</p>
</div>
<section id="setup" class="cell markdown">
<h2>Setup</h2>
</section>
<section id="setting-up-the-environment" class="cell markdown">
<h3>Setting Up the Environment</h3>
</section>
<div class="cell markdown">
<p>Once the required libraries are installed, you need to set up your
environment by initializing the camera and face mesh detection model.
We'll also fetch the screen dimensions to map eye positions to the
screen coordinates later.</p>
</div>
<section id="importing-libraries-and-initializing-the-camera"
class="cell markdown">
<h3>Importing Libraries and Initializing the Camera</h3>
</section>
<div class="cell markdown">
<p>Here’s how you can import the libraries and set up the camera:</p>
</div>
<div class="cell code"
data-vscode="{&quot;languageId&quot;:&quot;plaintext&quot;}">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> cv2</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> mediapipe <span class="im">as</span> mp</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pyautogui</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize camera and face mesh model</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>cam <span class="op">=</span> cv2.VideoCapture(<span class="dv">0</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>face_mesh <span class="op">=</span> mp.solutions.face_mesh.FaceMesh(refine_landmarks<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get screen dimensions</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>screen_w, screen_h <span class="op">=</span> pyautogui.size()</span></code></pre></div>
</div>
<section id="explanation" class="cell markdown">
<h3>Explanation:</h3>
</section>
<div class="cell markdown">
<ul>
<li><strong><code>cv2.VideoCapture(0)</code></strong>: Opens the default
camera (webcam) to capture video frames.</li>
<li><strong><code>mp.solutions.face_mesh.FaceMesh(refine_landmarks=True)</code></strong>:
Initializes MediaPipe's face mesh model for facial landmark detection,
with <code>refine_landmarks=True</code> ensuring more detailed
detection, especially around the eyes.</li>
<li><strong><code>pyautogui.size()</code></strong>: Gets the width and
height of the computer screen to map eye positions to the correct screen
coordinates.</li>
</ul>
</div>
<section id="face-and-eye-detection" class="cell markdown">
<h2>Face and Eye Detection</h2>
<p>In this step, we’ll capture frames from the webcam and detect facial
landmarks using MediaPipe’s face mesh model. We’ll focus specifically on
the eye landmarks, which we will later use to control the mouse.</p>
</section>
<section id="code-for-detecting-faces-and-eyes" class="cell markdown">
<h3>Code for Detecting Faces and Eyes</h3>
</section>
<div class="cell code"
data-vscode="{&quot;languageId&quot;:&quot;plaintext&quot;}">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Capture frame</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    _, frame <span class="op">=</span> cam.read()</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    frame <span class="op">=</span> cv2.flip(frame, <span class="dv">1</span>)  <span class="co"># Flip the frame horizontally</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    rgb_frame <span class="op">=</span> cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)  <span class="co"># Convert to RGB</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Process the frame to find landmarks</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    output <span class="op">=</span> face_mesh.process(rgb_frame)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    landmark_points <span class="op">=</span> output.multi_face_landmarks</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    frame_h, frame_w, _ <span class="op">=</span> frame.shape</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if landmarks are detected</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> landmark_points:</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        landmarks <span class="op">=</span> landmark_points[<span class="dv">0</span>].landmark</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Draw eye landmarks</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="bu">id</span>, landmark <span class="kw">in</span> <span class="bu">enumerate</span>(landmarks[<span class="dv">474</span>:<span class="dv">478</span>]):</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            x <span class="op">=</span> <span class="bu">int</span>(landmark.x <span class="op">*</span> frame_w)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>            y <span class="op">=</span> <span class="bu">int</span>(landmark.y <span class="op">*</span> frame_h)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>            cv2.circle(frame, (x, y), <span class="dv">3</span>, (<span class="dv">0</span>, <span class="dv">255</span>, <span class="dv">0</span>))  <span class="co"># Draw landmark</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>            <span class="co"># Map landmark coordinates to screen coordinates</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="bu">id</span> <span class="op">==</span> <span class="dv">1</span>:  <span class="co"># Typically the right eye landmark</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Normalize the coordinates to the screen size</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>                screen_x <span class="op">=</span> <span class="bu">int</span>(screen_w <span class="op">*</span> landmark.x)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>                screen_y <span class="op">=</span> <span class="bu">int</span>(screen_h <span class="op">*</span> landmark.y)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>                <span class="co"># Move mouse to the new position</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>                pyautogui.moveTo(screen_x, screen_y)</span></code></pre></div>
</div>
<section id="explanation" class="cell markdown">
<h3>Explanation:</h3>
<ol>
<li><strong>Frame Capture</strong>: The camera captures a frame, which
is then flipped horizontally to simulate a mirror effect (this is often
more intuitive when controlling with eye movement).</li>
<li><strong>Landmark Detection</strong>: The face mesh model detects the
landmarks in the frame, which are returned as
<code>multi_face_landmarks</code>. This contains facial features,
including eyes.</li>
<li><strong>Eye Landmarks</strong>: The eye landmarks (IDs 474 to 478)
are used for tracking eye movement. Circles are drawn around them for
visualization purposes.</li>
<li><strong>Mouse Movement</strong>: For one of the eye landmarks (ID 1
in this case, corresponding to the right eye), the normalized
coordinates are used to move the mouse cursor on the screen using
<code>pyautogui.moveTo(screen_x, screen_y)</code>.</li>
</ol>
</section>
<section id="mouse-control-based-on-eye-movement" class="cell markdown">
<h2>Mouse Control Based on Eye Movement</h2>
<p>The eye movements are mapped to screen coordinates to move the mouse.
We also detect blinking to perform mouse click actions. Here’s how you
can implement this.</p>
</section>
<section id="adding-mouse-click-control-via-blinking"
class="cell markdown">
<h3>Adding Mouse Click Control via Blinking</h3>
</section>
<div class="cell code"
data-vscode="{&quot;languageId&quot;:&quot;plaintext&quot;}">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect blinking (click action)</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>        left_eye <span class="op">=</span> [landmarks[<span class="dv">145</span>], landmarks[<span class="dv">159</span>]]  <span class="co"># Landmarks for left eye</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> landmark <span class="kw">in</span> left_eye:</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>            x <span class="op">=</span> <span class="bu">int</span>(landmark.x <span class="op">*</span> frame_w)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            y <span class="op">=</span> <span class="bu">int</span>(landmark.y <span class="op">*</span> frame_h)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>            cv2.circle(frame, (x, y), <span class="dv">3</span>, (<span class="dv">0</span>, <span class="dv">255</span>, <span class="dv">255</span>))  <span class="co"># Draw left eye landmarks</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Click if the eyes are closed (or some other condition you define)</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (left_eye[<span class="dv">0</span>].y <span class="op">-</span> left_eye[<span class="dv">1</span>].y) <span class="op">&lt;</span> <span class="fl">0.004</span>:  <span class="co"># Adjust threshold as necessary</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>            pyautogui.click()</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>            pyautogui.sleep(<span class="dv">1</span>)  <span class="co"># Sleep to avoid multiple clicks</span></span></code></pre></div>
</div>
<section id="explanation" class="cell markdown">
<h3>Explanation:</h3>
<ul>
<li><strong>Left Eye Landmarks</strong>: Landmarks for the left eye (ID
145 and 159) are detected. Circles are drawn around these landmarks to
visualize the eye.</li>
<li><strong>Blink Detection</strong>: If the vertical distance between
the two eye landmarks (i.e., eye openness) falls below a certain
threshold (here <code>0.004</code>), we assume a blink has occurred.
This triggers a mouse click using <code>pyautogui.click()</code>.</li>
<li><strong>Click Delay</strong>: After a click is registered, we use
<code>pyautogui.sleep(1)</code> to prevent multiple consecutive clicks,
providing a one-second delay between clicks.</li>
</ul>
</section>
<section id="running-the-code" class="cell markdown">
<h2>Running the Code</h2>
<p>After implementing the above steps, you can run the script to test
the eye-controlled mouse system. To execute the script, run:</p>
</section>
<div class="cell code"
data-vscode="{&quot;languageId&quot;:&quot;plaintext&quot;}">
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>python eye_mouse_control.py</span></code></pre></div>
</div>
<section id="exiting-the-program" class="cell markdown">
<h3>Exiting the Program</h3>
<p>To gracefully exit the program and release all resources, press the
<strong>‘q’</strong> key on your keyboard. Here's the final part of the
code that handles this:</p>
</section>
<div class="cell code"
data-vscode="{&quot;languageId&quot;:&quot;plaintext&quot;}">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the frame with landmarks</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    cv2.imshow(<span class="st">&#39;Eye Controlled Mouse&#39;</span>, frame)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Exit loop on &#39;q&#39; key press</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> cv2.waitKey(<span class="dv">1</span>) <span class="op">&amp;</span> <span class="bn">0xFF</span> <span class="op">==</span> <span class="bu">ord</span>(<span class="st">&#39;q&#39;</span>):</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Release resources</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>cam.release()</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>cv2.destroyAllWindows()</span></code></pre></div>
</div>
<div class="cell markdown">
<ul>
<li><strong><code>cv2.imshow()</code></strong>: Displays the video feed
with detected eye landmarks.</li>
<li><strong><code>cv2.waitKey(1)</code></strong>: Monitors for key
presses. If 'q' is pressed, the loop is exited.</li>
<li><strong><code>cam.release()</code> and
<code>cv2.destroyAllWindows()</code></strong>: Ensure the webcam is
released and the OpenCV windows are closed gracefully.</li>
</ul>
</div>
<section id="conclusion" class="cell markdown">
<h2>Conclusion</h2>
<p>In this tutorial, you learned how to:</p>
<ol>
<li>Set up an environment for eye tracking using OpenCV, MediaPipe, and
PyAutoGUI.</li>
<li>Detect facial landmarks and focus on eye landmarks for mouse
control.</li>
<li>Map eye movement to screen coordinates for controlling the mouse
cursor.</li>
<li>Detect blinks to trigger mouse clicks.</li>
</ol>
<p>This system opens up possibilities for accessibility solutions or
hands-free interaction with a computer. Feel free to adjust the
thresholds and landmarks to fine-tune the eye-tracking sensitivity for
better control.</p>
</section>
  </div>
  <footer>
    <div class="container">
      <div class="footer-socials">
        Follow us on:
        <a href="https://facebook.com" target="_blank"><svg style="width: 10px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#ffffff" d="M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"/></svg></a>
        <a href="https://twitter.com" target="_blank"><svg style="width: 15px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#ffffff" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg></i></a>
        <a href="https://linkedin.com" target="_blank"><svg style="width: 15px;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#ffffff" d="M100.3 448H7.4V148.9h92.9zM53.8 108.1C24.1 108.1 0 83.5 0 53.8a53.8 53.8 0 0 1 107.6 0c0 29.7-24.1 54.3-53.8 54.3zM447.9 448h-92.7V302.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V448h-92.8V148.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V448z"/></svg></i></a>
      </div>
      <div class="footer-contact">
        <p>
          Contact us:
          <a href="mailto:info@mlfusionlabs.com" style="color: white">info@mlfusionlabs.com</a>
          | Phone: +1 (555) 123-4567
        </p>
      </div>
      <div class="footer-links">
        <a href="../pages/privacy.html">Privacy Policy</a> |
        <a href="../pages/terms.html">Terms of Service</a> |
        <a href="../pages/about.html">About Us</a> |
        <a href="../pages/contact.html">Contact</a> |
        <a href="../pages/contact.html">Contributor</a>
      </div>
      <p>&copy; <span id="current-year"></span> ML Fusion Labs | All Rights Reserved</p>
    </div>
    <button id="scrollTopBtn" onclick="scrollToTop()">
      <svg style="width: 20px;"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="#ffffff" d="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"/></svg>    </button>
  </footer>
  <script src="../script/scroll.js"></script>
  <script src="../script/script.js"></script>
  <script src="../script/projects.js"></script>
  <script>
    const scrollTopBtn = document.getElementById("scrollTopBtn");
    window.onscroll = function () {
      if (
        document.body.scrollTop > 20 ||
        document.documentElement.scrollTop > 20
      ) {
        scrollTopBtn.style.display = "block";
      } else {
        scrollTopBtn.style.display = "none";
      }
    };

    function scrollToTop() {
      window.scrollTo({
        top: 0,
        behavior: "smooth",
      });
    }
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const coords = { x: 0, y: 0 };
      const circles = document.querySelectorAll(".circle");

      circles.forEach(function (circle) {
        circle.x = 0;
        circle.y = 0;
      });

      window.addEventListener("mousemove", function (e) {
        coords.x = e.pageX;
        coords.y = e.pageY - window.scrollY; // Adjust for vertical scroll position
      });

      function animateCircles() {
        let x = coords.x;
        let y = coords.y;

        circles.forEach(function (circle, index) {
          circle.style.left = `${x - 12}px`;
          circle.style.top = `${y - 12}px`;
          circle.style.transform = `scale(${(circles.length - index) / circles.length
            })`;

          const nextCircle = circles[index + 1] || circles[0];
          circle.x = x;
          circle.y = y;

          x += (nextCircle.x - x) * 0.3;
          y += (nextCircle.y - y) * 0.3;
        });

        requestAnimationFrame(animateCircles);
      }

      animateCircles();
    });
  </script>
  <!-- Botpress Chat Scripts -->
  <script src="https://cdn.botpress.cloud/webchat/v2.2/inject.js"></script>
  <script src="https://files.bpcontent.cloud/2024/10/06/10/20241006104845-C8MQIMON.js"></script>
  <script>
    // Get the current year
    const currentYear = new Date().getFullYear();
    
    // Update the HTML content
    document.getElementById("current-year").textContent = currentYear;
</script>
</body>
</html>
